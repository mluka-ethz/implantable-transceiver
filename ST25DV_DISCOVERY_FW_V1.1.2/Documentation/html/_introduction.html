<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ST25DVDemo: $title</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="st25_logo.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ST25DVDemo
   </div>
   <div id="projectbrief">Firmware for the ST25DV Demo</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Firmware_objectives"></a>
Firmware objectives</h1>
<p>The purpose of this firmware is to run demos on the ST25DV dynamic NFC tag. </p>
<h2><a class="anchor" id="ST25DV_Dyn_Tag"></a>
The ST25DV dynamic NFC tag</h2>
<p>The ST25DV is a dynamic NFC tag, thus providing 2 different interfaces:</p><ul>
<li>The NFC RF interface, compliant with standards:<ul>
<li>NFC Forum Type 5 Tag</li>
<li>ISO15693</li>
</ul>
</li>
<li>An i2c interface, controlled by a MCU (executing this firmware).</li>
</ul>
<p>This tag also supports a Fast Transfer mode to enable faster communication between the MCU &amp; the RF world. </p>
<h1><a class="anchor" id="About_the_hardware"></a>
About the hardware</h1>
<p>This Firmware runs on the ST25DV-Discovery Kit which includes 2 different boards:</p><ul>
<li>The ST25 Discovery Motherboard: embedding a STM32F415 MCU, on which this firmware is intended to run.</li>
<li>The ST25DV Ant boards: having the ST25DV tag and a NFC Antenna. <br />
</li>
</ul>
<h2><a class="anchor" id="ST25_Discovery_board"></a>
ST25 Discovery board</h2>
<p>The ST25 Discovery board is built around a STM32F415 MCU (running this firmware).</p>
<p>The board embeds also:</p><ul>
<li>a LCD display with a touchscreen, to display and control the demo.</li>
<li>2 USB connectors, one for the ST-Link, the second being available for any user application.</li>
<li>a connector for a Tag Antenna daughter board (such as one of the ST25DV Antenna boards)</li>
<li>And as optionnal modules:<ul>
<li>a ST Bluetooth Low Energy module.</li>
<li>a ST Wifi module. </li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="ST25DV_Ant_board"></a>
ST25DV Antenna boards</h2>
<p>These boards are built around the ST25DV dynamic NFC tag and different NFC antennas. </p>
<h1><a class="anchor" id="Demo_overview"></a>
Demo overview</h1>
<p>The firmware implements 3 demo categories:</p><ul>
<li>The Fast Transfer Mode demos, with different usecases benefiting from the faster communication between the MCU &amp; a Reader:<ul>
<li>FW upgrade.</li>
<li>Picture download/upload.</li>
<li>Data transfers (from or to the reader).</li>
</ul>
</li>
<li>The NDEF mesages demos:<ul>
<li>NFC well-known types: URL, Phone number, SMS, Email,...</li>
<li>vCard</li>
<li>Android Application Record</li>
<li>Proprietary record (MyAPP)</li>
<li>Pairing with Out Of Band records for Bluetooth LE &amp; Wifi</li>
</ul>
</li>
<li>Demo of other features of the ST25DV:<ul>
<li>RF interrupt through a dedicated GPO</li>
<li>Energy Harvesting from the RF to power an additional device</li>
<li>Different states: RF off, RF sleep and Low power down</li>
<li>Memory mappping and password protection</li>
</ul>
</li>
</ul>
<p>The firmware implements also a user interface consisting in:</p><ul>
<li>a menu to select the demos</li>
<li>several screens to display demo instructions and status. </li>
</ul>
<h1><a class="anchor" id="Cube_Methodology"></a>
STM32Cube methodology</h1>
<p>This firmware has been designed to specifically runs on the STM32F415 MCU embedded on the ST25 Discovery board. However, thanks to the STM32Cube methodology, the structure of the firmware enables both an easy full porting to an other STM32 MCU and an easy reuse of parts of the demo. Two important elements have been particularly designed to make their reuse as straightforward as possible:</p><ul>
<li>The ST25DV driver, which implements the functions to control the ST25DV from its i2c interface, is completely independant from the MCU.<br />
 This driver can thus be easily reused in any other project based on the STM32Cube methodology, but can also be reused on any other HW solution interacting with a ST25DV.</li>
<li>The NDEF library, which implements the standard NDEF protocol, is provided as a Cube Middleware fully independant from the HW.</li>
</ul>
<p>Here is a high level view of how the firmware is organized. <h1><a class="anchor" id="Documentation_Structure"></a>
Firmware documentation structure</h1>
<p>This document has been generated from the Doxygen comments embedded in the firmware source code.<br />
The structure of this document follows the firmware structure, and uses the standard doxygen implementation based on Modules.<br />
</p>
<h2><a class="anchor" id="Main_Modules"></a>
Main Demo modules</h2>
<ul>
<li><a class="el" href="group___s_t25___discovery___demo.html">ST25 Discovery Demo</a> : This module is the main module for all the ST25Discovery board demos.</li>
<li><a class="el" href="group___fast___transfer___mode.html">Fast transfer mode demo</a> : This module provides functions to manage the protocol for the Fast Transfer Mode demos.</li>
<li><a class="el" href="group___n_d_e_f___d_e_m_o.html">NDEF Demo</a> : This module implements the NDEF demo functions.</li>
<li><a class="el" href="group___s_t25_d_v___features___demo.html">ST25DV Features demo</a> : This module implements the functions to execute the demos of the ST25DV specific features. </li>
</ul>
<h2><a class="anchor" id="FTM_Modules"></a>
Fast transfer mode demo related modules</h2>
<ul>
<li><a class="el" href="group___s_t25_d_v___mailbox___functions.html">ST25DV Mailbox functions</a> : This module proposes Common api for the ST25DV Mailbox.</li>
<li><a class="el" href="group___flash___command.html">Flash Command</a> : This module implements high level functions to write firmware or data to flash.</li>
<li><a class="el" href="group___flash___interface.html">Flash memory api</a> : This module defines an API to access the internal flash memory. </li>
</ul>
<h2><a class="anchor" id="ST25DV_Management"></a>
ST25DV management related module</h2>
<ul>
<li><a class="el" href="group___s_t25_d_v___common___functions.html">ST25DV common functions</a> : This module proposes a generic api used for the ST25DV. </li>
</ul>
<h2><a class="anchor" id="BoardSupportPackageDriver"></a>
ST25DV Board Support Package and Driver</h2>
<ul>
<li><a class="el" href="group___b_s_p.html">BSP</a> : Container module for the BSP modules.</li>
<li>ST25_DISCOVERY_NFCTAG :</li>
<li><a class="el" href="group___s_t25_d_v.html">ST25DV driver</a> : This module implements the functions to drive the ST25DV NFC dynamic tag. </li>
</ul>
<h2><a class="anchor" id="Menu_Of_The_Demo"></a>
Menu of the demo</h2>
<ul>
<li><a class="el" href="group___s_t25_d_v___menu___definition.html">ST25DV Menu Definition</a> : This module defines the structure and content of the ST25DV demo menu.</li>
<li><a class="el" href="group___menu___demo___interface.html">ST25DV Menu interface configuration</a> : Interface file for the menu_demo middleware.</li>
<li><a class="el" href="group___jpeg___decode.html">LibJPEG decode wrapper</a> : Wrapper calling the libJPEG Cube middleware to decode JPEG pictures. </li>
</ul>
<h2><a class="anchor" id="MCU_Support_Modules"></a>
MCU support modules</h2>
<ul>
<li><a class="el" href="group___s_t25_discovery___i_t.html">ST25 Discovery interrupt routines</a> : This module defines all the required interrupt routines for the ST25DV demo.</li>
<li>ST25Discovery_MSP :</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Doxygen non-default settings to re-generate this document:<ul>
<li>OPTIMIZE_OUTPUT_FOR_C=YES</li>
<li>INLINE_SIMPLE_STRUCT=YES</li>
<li>MAX_INITIALIZER_LINES=1</li>
<li>HIDE_UNDOC_MEMBERS=1</li>
</ul>
</dd></dl>
<h1><a class="anchor" id="Middlewares_used"></a>
Middlewares used in this firmware</h1>
<p>This firmware relies on several Middlewares, either provided by ST or a third party. These Middlewares are HW-independant softwares implementing a generic feature. They will not be detailed in this documentation.<br />
 Herebelow is the list of the Middlewares used by this firmware. </p>
<h2><a class="anchor" id="LibNDEF"></a>
LibNDEF</h2>
<p>This library provides functions to read &amp; write NDEF messages to a tag.<br />
 It supports a variety of NDEF records, such as:</p><ul>
<li>URI record (includes URLs)</li>
<li>SMS record</li>
<li>Email record</li>
<li>vCard record</li>
<li>Geo location record</li>
<li>Bluetooth OOB record</li>
<li>Wifi OOB record</li>
<li>Android Application Record (AAR)</li>
</ul>
<p>The library also defines a NFC-Forum Type5 Tag wrapper to comply with the NFC-Forum Type5 Tag specification. </p>
<h2><a class="anchor" id="LibJPEG"></a>
LibJPEG</h2>
<p>This library implements the JPEG codec. This firmware only includes the JPEG decoding part of the library. </p>
<h2><a class="anchor" id="STM32_BlueNRG"></a>
STM32 BlueNRG</h2>
<p>This Middleware provides the communication stack for the ST BlueNRG module (Bluetooth Low Energy).<br />
 A HID profile is used on top of it, to remotely control a mouse pointer on a paired device. </p>
<h2><a class="anchor" id="STM32_SPWF01SA"></a>
STM32 SPWF01SA</h2>
<p>This Middleware provides the communication stack for the ST SPWF01 Wifi module.<br />
 It is used to set the Wifi Module as a mini Access <a class="el" href="struct_point.html" title="Point structure definition. ">Point</a>, to receive connections from remote devices. </p>
<h2><a class="anchor" id="Menu_Demo"></a>
Menu Demo</h2>
<p>This Middleware implements functions to display an icon-and-text-based menu.<br />
 It also manages inputs from a touchscreen, a joystick and a button, to interact with the user. <br />
 </p>
<h1><a class="anchor" id="ST25DV_BSP"></a>
ST25DV Board Support Package</h1>
<p>The Board Support Package software (BSP) is defined by the Cube methodology as the abstraction layer for the board specific features.<br />
 It implements all the functions required to access:</p><ul>
<li>the components on the board.</li>
<li>the MCU peripherals requiring a board specific configuration.</li>
</ul>
<p>The different parts of the BSP are described below. </p>
<h2><a class="anchor" id="IOBus"></a>
IOBus</h2>
<p>This part of the BSP implements the low level functions interfacing between the components drivers and the MCU peripherals (by caling the Cube HAL).<br />
 The BSP IOBus functions are not detailed in this document. </p>
<h2><a class="anchor" id="High_Level_API"></a>
High level APIs</h2>
<p>This parts of the BSP provides high level functions called by the application or Middlewares to access the component drivers.<br />
 This layer acts as a bridge between the application and the component drivers.<br />
 In this documentation, only the NFCTAG BSP is detailed: ST25_DISCOVERY_NFCTAG.</p>
<h1><a class="anchor" id="ST25DV_Components"></a>
Components</h1>
<p>The ST25DV Discovery kit embeds different components requiring specific softwares to be correctly driven. Unless it is specified differently, these drivers are not detailed in this document. </p>
<h2><a class="anchor" id="ST25DV_DRIVER"></a>
ST25DV driver</h2>
<p>This driver provides all the required functions to access the ST25DV NFC dynamic tag. This driver is covered by this document in the module <a class="el" href="group___s_t25_d_v.html">ST25DV driver</a>. </p>
<h2><a class="anchor" id="ILI9341_DRIVER"></a>
ILI9341 driver</h2>
<p>This driver implements functions to access the LCD display of the ST25-Discovery. </p>
<h2><a class="anchor" id="STMPE811_DRIVER"></a>
STMPE811 driver</h2>
<p>This driver implements functions to access the Touchscreen of the ST25-Discovery. </p>
<h2><a class="anchor" id="AD5161_DRIVER"></a>
AD5161 driver</h2>
<p>This driver implements functions to access the Digital Potentiometer of the ST25-Discovery. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
